<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hokkaido Trip 2026</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Noto+Sans+TC:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --ins-blue: #E1EFFE; --ins-bg: #F8FAFC; }
        body { font-family: 'Inter', 'Noto Sans TC', sans-serif; background-color: var(--ins-bg); color: #334155; }
        .glass-card { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.3); }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .tab-active { color: #3B82F6; position: relative; }
        .tab-active::after { content: ''; position: absolute; bottom: -8px; left: 50%; transform: translateX(-50%); width: 4px; height: 4px; background: #3B82F6; border-radius: 50%; }
        .banner-mask { border-radius: 0 0 32px 32px; clip-path: ellipse(120% 100% at 50% 0%); }
        input, select { -webkit-appearance: none; }
    </style>
</head>
<body>
    <div id="app" class="max-w-md mx-auto min-h-screen relative pb-24">
        
        <div class="relative h-[250px] w-full overflow-hidden bg-slate-200 banner-mask">
            <img src="IMG_0038.JPG" class="w-full h-full object-cover">
            <div class="absolute bottom-16 left-6 text-white drop-shadow-md">
                <h1 class="text-2xl font-bold">北海道自駕遊</h1>
                <p class="text-xs opacity-80">Feb 06 - Feb 12, 2026</p>
            </div>
            
            <div class="absolute -bottom-1 left-0 w-full px-6">
                <div class="glass-card rounded-2xl p-4 flex justify-around shadow-sm">
                    <button @click="currentTab = 'itinerary'" :class="{'tab-active': currentTab === 'itinerary'}"><i data-lucide="calendar-days"></i></button>
                    <button @click="currentTab = 'info'" :class="{'tab-active': currentTab === 'info'}"><i data-lucide="info"></i></button>
                    <button @click="currentTab = 'shopping'" :class="{'tab-active': currentTab === 'shopping'}"><i data-lucide="shopping-bag"></i></button>
                    <button @click="currentTab = 'expense'" :class="{'tab-active': currentTab === 'expense'}"><i data-lucide="banknote"></i></button>
                </div>
            </div>
        </div>

        <main class="mt-8 px-6">
            
            <div v-if="currentTab === 'itinerary'" class="space-y-6">
                <div class="flex gap-4 overflow-x-auto hide-scrollbar py-2">
                    <div v-for="day in days" :key="day.date" @click="selectedDate = day.date"
                         class="flex flex-col items-center min-w-[55px] py-3 rounded-2xl transition-all"
                         :class="selectedDate === day.date ? 'bg-blue-500 text-white shadow-lg' : 'bg-white text-slate-400'">
                        <span class="text-[10px] uppercase font-semibold">{{ day.weekday }}</span>
                        <span class="text-lg font-bold">{{ day.dayNum }}</span>
                    </div>
                </div>

                <div class="bg-blue-50/50 rounded-3xl p-4 flex items-center justify-between border border-blue-100/50">
                    <div class="flex items-center gap-3">
                        <i data-lucide="cloud-snow" class="text-blue-400 w-8 h-8"></i>
                        <div>
                            <p class="text-sm font-semibold text-slate-700">Sapporo, Hokkaido</p>
                            <p class="text-[10px] text-slate-400">體感溫度 -7°C</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-xl font-bold text-blue-600">-3°</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <div v-for="(item, index) in filteredItinerary" :key="index" class="group">
                        <div class="flex gap-4">
                            <div class="flex flex-col items-center">
                                <div class="w-2 h-2 rounded-full bg-blue-400 mt-2"></div>
                                <div v-if="index !== filteredItinerary.length - 1" class="w-[1px] h-full bg-slate-200 my-1"></div>
                            </div>
                            <div class="flex-1 pb-6">
                                <div class="bg-white rounded-2xl p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer" @click="openGoogleMap(item.name)">
                                    <div class="flex justify-between items-start">
                                        <span class="text-[10px] font-bold text-blue-500 tracking-widest uppercase">{{ item.category }}</span>
                                        <span class="text-[10px] text-slate-400">{{ item.time }}</span>
                                    </div>
                                    <h3 class="font-bold text-slate-800 my-1">{{ item.name }}</h3>
                                    <p class="text-xs text-slate-400 leading-relaxed">{{ item.note }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentTab === 'info'" class="space-y-6">
                <div class="bg-white rounded-3xl p-6 shadow-sm">
                    <h3 class="text-sm font-bold text-slate-800 mb-4 flex items-center gap-2"><i data-lucide="refresh-cw" class="w-4 h-4"></i> 匯率試算</h3>
                    <div class="flex items-center gap-4">
                        <input type="number" v-model="jpyAmount" placeholder="JPY" class="w-full bg-slate-50 border-none rounded-xl p-3 outline-none text-blue-600 font-bold">
                        <i data-lucide="arrow-right" class="text-slate-300"></i>
                        <div class="w-full bg-blue-50 rounded-xl p-3 text-blue-600 font-bold">
                            NT$ {{ (jpyAmount * 0.21).toFixed(0) }}
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-3xl p-5 shadow-sm border-l-4 border-blue-400">
                    <p class="text-[10px] text-blue-400 font-bold uppercase">Accommodation</p>
                    <h3 class="font-bold text-slate-800 mt-1">札幌大通公園飯店</h3>
                    <p class="text-xs text-slate-500 mt-2">地址：札幌市中央區大通西...</p>
                    <button @click="openGoogleMap('札幌大通公園飯店')" class="mt-4 text-xs font-bold text-blue-500 flex items-center gap-1">前往導航 <i data-lucide="chevron-right" class="w-3 h-3"></i></button>
                </div>
            </div>

            <div v-if="currentTab === 'shopping'" class="grid grid-cols-2 gap-4">
                <div v-for="(item, index) in shoppingList" :key="index" class="bg-white rounded-3xl overflow-hidden shadow-sm">
                    <div class="h-32 bg-slate-100 flex items-center justify-center">
                        <img v-if="item.img" :src="item.img" class="w-full h-full object-cover">
                        <i v-else data-lucide="image" class="text-slate-300"></i>
                    </div>
                    <div class="p-3">
                        <p class="text-sm font-bold text-slate-800">{{ item.name }}</p>
                        <div class="flex justify-between items-center mt-2">
                            <span class="text-[10px] text-slate-400 italic">Hokkaido Special</span>
                            <button @click="removeItem(shoppingList, index)" class="text-red-300"><i data-lucide="trash-2" class="w-3 h-3"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentTab === 'expense'" class="space-y-4">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-3xl p-6 text-white shadow-xl">
                    <p class="text-xs opacity-80 uppercase tracking-widest">Total Spend</p>
                    <h2 class="text-3xl font-bold mt-1">¥ {{ totalExpense }}</h2>
                    <p class="text-[10px] opacity-60 mt-2">約 NT$ {{ (totalExpense * 0.21).toFixed(0) }}</p>
                </div>
                <div v-for="(exp, index) in expenses" :key="index" class="bg-white rounded-2xl p-4 flex justify-between items-center shadow-sm">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center text-blue-500">
                            <i data-lucide="shopping-cart" class="w-4 h-4"></i>
                        </div>
                        <div>
                            <p class="text-sm font-bold text-slate-800">{{ exp.name }}</p>
                            <p class="text-[10px] text-slate-400">{{ exp.category }} | {{ exp.payment }}</p>
                        </div>
                    </div>
                    <p class="font-bold text-slate-700">¥ {{ exp.amount }}</p>
                </div>
            </div>

        </main>

        <button v-if="currentTab !== 'info'" class="fixed bottom-10 right-8 w-14 h-14 bg-blue-500 text-white rounded-full shadow-2xl flex items-center justify-center active:scale-90 transition-transform z-50">
            <i data-lucide="plus"></i>
        </button>

    </div>

    <script>
        const { createApp, ref, computed, onMounted, updated } = Vue;

        createApp({
            setup() {
                const currentTab = ref('itinerary');
                const selectedDate = ref('2026-02-06');
                const jpyAmount = ref(1000);

                const days = [
                    { date: '2026-02-06', weekday: 'Fri', dayNum: '06' },
                    { date: '2026-02-07', weekday: 'Sat', dayNum: '07' },
                    { date: '2026-02-08', weekday: 'Sun', dayNum: '08' },
                    { date: '2026-02-09', weekday: 'Mon', dayNum: '09' },
                    { date: '2026-02-10', weekday: 'Tue', dayNum: '10' }
                ];

                const itineraryData = ref([
                    { date: '2026-02-06', name: '新千歲機場取車', category: '租車', time: '14:30', note: 'TOYOTA Rent-a-car, 確認雪胎' },
                    { date: '2026-02-06', name: '札幌電視塔', category: '景點', time: '17:00', note: '拍合照的好地方，門票 ¥1000' },
                    { date: '2026-02-06', name: '大通公園 冰雪祭', category: '景點', time: '19:00', note: '注意保暖，帶暖暖包' }
                ]);

                const shoppingList = ref([
                    { name: '白色戀人巧克力', img: '' },
                    { name: '六花亭 奶油餅乾', img: '' }
                ]);

                const expenses = ref([
                    { name: '拉麵信玄', category: '美食', amount: 3200, payment: '現金' },
                    { name: '加油站', category: '交通', amount: 5500, payment: '信用卡' }
                ]);

                const filteredItinerary = computed(() => {
                    return itineraryData.value.filter(d => d.date === selectedDate.value);
                });

                const totalExpense = computed(() => {
                    return expenses.value.reduce((sum, item) => sum + item.amount, 0);
                });

                const openGoogleMap = (query) => {
                    window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`, '_blank');
                };

                const removeItem = (list, index) => {
                    if(confirm('確定要刪除嗎？')) list.splice(index, 1);
                };

                const refreshIcons = () => { lucide.createIcons(); };
                onMounted(refreshIcons);
                updated(refreshIcons);

                return { currentTab, selectedDate, days, filteredItinerary, jpyAmount, shoppingList, expenses, totalExpense, openGoogleMap, removeItem };
            }
        }).mount('#app');
    </script>
</body>
</html>